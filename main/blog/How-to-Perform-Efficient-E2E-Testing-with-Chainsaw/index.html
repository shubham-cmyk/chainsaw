<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="End to end testing tool"><link href=https://github.io/kyverno/chainsaw/main/blog/How-to-Perform-Efficient-E2E-Testing-with-Chainsaw/ rel=canonical><link href=../first-test/ rel=prev><link rel=icon href=../../static/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.7"><title>How to Perform Efficient E2E Testing with Chainsaw - Chainsaw</title><link rel=stylesheet href=../../assets/stylesheets/main.f2e4d321.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../static/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="Chainsaw - How to Perform Efficient E2E Testing with Chainsaw"><meta property=og:description content="End to end testing tool"><meta content=https://github.io/kyverno/chainsaw/main/blog/How-to-Perform-Efficient-E2E-Testing-with-Chainsaw/ property=og:url><meta property=og:image content=https://github.io/kyverno/chainsaw/main/static/card.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:site content=@goreleaser><meta name=twitter:creator content=@goreleaser><meta name=twitter:title content="Chainsaw - How to Perform Efficient E2E Testing with Chainsaw"><meta name=twitter:description content="End to end testing tool"><meta name=twitter:image content=https://github.io/kyverno/chainsaw/main/static/card.png></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#how-to-perform-efficient-e2e-testing-with-chainsaw class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=Chainsaw class="md-header__button md-logo" aria-label=Chainsaw data-md-component=logo> <img src=../../static/kyverno-chainsaw-logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Chainsaw </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> How to Perform Efficient E2E Testing with Chainsaw </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=light-blue data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/kyverno/chainsaw title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> kyverno/chainsaw </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../intro/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../writing-tests/ class=md-tabs__link> Writing tests </a> </li> <li class=md-tabs__item> <a href=../../examples/ class=md-tabs__link> Examples </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Chainsaw class="md-nav__button md-logo" aria-label=Chainsaw data-md-component=logo> <img src=../../static/kyverno-chainsaw-logo.png alt=logo> </a> Chainsaw </label> <div class=md-nav__source> <a href=https://github.com/kyverno/chainsaw title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> kyverno/chainsaw </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../intro/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../install/ class=md-nav__link> <span class=md-ellipsis> Install </span> </a> </li> <li class=md-nav__item> <a href=../../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick start </span> </a> </li> <li class=md-nav__item> <a href=../../gh-action/ class=md-nav__link> <span class=md-ellipsis> GitHub action </span> </a> </li> <li class=md-nav__item> <a href=../../resources/ class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> <li class=md-nav__item> <a href=../../docs/ class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> </li> <li class=md-nav__item> <a href=../../community/ class=md-nav__link> <span class=md-ellipsis> Community </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Writing tests </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Writing tests </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../writing-tests/ class=md-nav__link> <span class=md-ellipsis> What is Chainsaw </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../configuration/ class=md-nav__link> <span class=md-ellipsis> Configuring Chainsaw </span> </a> </li> <li class=md-nav__item> <a href=../../configuration/file/ class=md-nav__link> <span class=md-ellipsis> Configuration file </span> </a> </li> <li class=md-nav__item> <a href=../../configuration/flags/ class=md-nav__link> <span class=md-ellipsis> Command line flags </span> </a> </li> <li class=md-nav__item> <a href=../../configuration/timeouts/ class=md-nav__link> <span class=md-ellipsis> Timeouts </span> </a> </li> <li class=md-nav__item> <a href=../../configuration/grace/ class=md-nav__link> <span class=md-ellipsis> Termination graceful period </span> </a> </li> <li class=md-nav__item> <a href=../../configuration/cleanup-delay/ class=md-nav__link> <span class=md-ellipsis> Delay before cleanup </span> </a> </li> <li class=md-nav__item> <a href=../../configuration/reports/ class=md-nav__link> <span class=md-ellipsis> Reports </span> </a> </li> <li class=md-nav__item> <a href=../../configuration/selector/ class=md-nav__link> <span class=md-ellipsis> Label selectors </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Tests </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Tests </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tests/ class=md-nav__link> <span class=md-ellipsis> What is a test </span> </a> </li> <li class=md-nav__item> <a href=../../tests/manifests-based/ class=md-nav__link> <span class=md-ellipsis> Manifests based syntax </span> </a> </li> <li class=md-nav__item> <a href=../../tests/test-based/ class=md-nav__link> <span class=md-ellipsis> Test based syntax </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Test steps </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Test steps </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../steps/ class=md-nav__link> <span class=md-ellipsis> What is a test step </span> </a> </li> <li class=md-nav__item> <a href=../../steps/try/ class=md-nav__link> <span class=md-ellipsis> Try </span> </a> </li> <li class=md-nav__item> <a href=../../steps/catch/ class=md-nav__link> <span class=md-ellipsis> Catch </span> </a> </li> <li class=md-nav__item> <a href=../../steps/finally/ class=md-nav__link> <span class=md-ellipsis> Finally </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> Operations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Operations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../operations/ class=md-nav__link> <span class=md-ellipsis> Operations </span> </a> </li> <li class=md-nav__item> <a href=../../operations/check/ class=md-nav__link> <span class=md-ellipsis> Operation checks </span> </a> </li> <li class=md-nav__item> <a href=../../operations/apply/ class=md-nav__link> <span class=md-ellipsis> Apply </span> </a> </li> <li class=md-nav__item> <a href=../../operations/assert/ class=md-nav__link> <span class=md-ellipsis> Assert </span> </a> </li> <li class=md-nav__item> <a href=../../operations/create/ class=md-nav__link> <span class=md-ellipsis> Create </span> </a> </li> <li class=md-nav__item> <a href=../../operations/command/ class=md-nav__link> <span class=md-ellipsis> Command </span> </a> </li> <li class=md-nav__item> <a href=../../operations/delete/ class=md-nav__link> <span class=md-ellipsis> Delete </span> </a> </li> <li class=md-nav__item> <a href=../../operations/error/ class=md-nav__link> <span class=md-ellipsis> Error </span> </a> </li> <li class=md-nav__item> <a href=../../operations/script/ class=md-nav__link> <span class=md-ellipsis> Script </span> </a> </li> <li class=md-nav__item> <a href=../../operations/sleep/ class=md-nav__link> <span class=md-ellipsis> Sleep </span> </a> </li> <li class=md-nav__item> <a href=../../operations/non-resource-assert/ class=md-nav__link> <span class=md-ellipsis> Non-resource assertions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> Collectors </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Collectors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../collectors/ class=md-nav__link> <span class=md-ellipsis> Collectors </span> </a> </li> <li class=md-nav__item> <a href=../../collectors/pod-logs/ class=md-nav__link> <span class=md-ellipsis> Pod logs </span> </a> </li> <li class=md-nav__item> <a href=../../collectors/events/ class=md-nav__link> <span class=md-ellipsis> Events </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7 id=__nav_3_7_label tabindex=0> <span class=md-ellipsis> Other resources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Other resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../more/events/ class=md-nav__link> <span class=md-ellipsis> Working with events </span> </a> </li> <li class=md-nav__item> <a href=../../more/crds/ class=md-nav__link> <span class=md-ellipsis> Working with CRDs </span> </a> </li> <li class=md-nav__item> <a href=../../more/lint/ class=md-nav__link> <span class=md-ellipsis> Lint tests </span> </a> </li> <li class=md-nav__item> <a href=../../more/test-docs/ class=md-nav__link> <span class=md-ellipsis> Building test docs </span> </a> </li> <li class=md-nav__item> <a href=../../more/kuttl-migration/ class=md-nav__link> <span class=md-ellipsis> Migration from KUTTL </span> </a> </li> <li class=md-nav__item> <a href=../../examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8 id=__nav_3_8_label tabindex=0> <span class=md-ellipsis> Reference Documentation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> Reference Documentation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8_1> <label class=md-nav__link for=__nav_3_8_1 id=__nav_3_8_1_label tabindex=0> <span class=md-ellipsis> Command Line </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_8_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8_1> <span class="md-nav__icon md-icon"></span> Command Line </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../commands/chainsaw/ class=md-nav__link> <span class=md-ellipsis> Chainsaw </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_assert/ class=md-nav__link> <span class=md-ellipsis> Chainsaw assert </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_build/ class=md-nav__link> <span class=md-ellipsis> Chainsaw build </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_build_docs/ class=md-nav__link> <span class=md-ellipsis> Chainsaw build docs </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_completion/ class=md-nav__link> <span class=md-ellipsis> Chainsaw completion </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_completion_bash/ class=md-nav__link> <span class=md-ellipsis> Chainsaw completion bash </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_completion_fish/ class=md-nav__link> <span class=md-ellipsis> Chainsaw completion fish </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_completion_powershell/ class=md-nav__link> <span class=md-ellipsis> Chainsaw completion powershell </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_completion_zsh/ class=md-nav__link> <span class=md-ellipsis> Chainsaw completion zsh </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_create/ class=md-nav__link> <span class=md-ellipsis> Chainsaw create </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_create_test/ class=md-nav__link> <span class=md-ellipsis> Chainsaw create test </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_docs/ class=md-nav__link> <span class=md-ellipsis> Chainsaw docs </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_export/ class=md-nav__link> <span class=md-ellipsis> Chainsaw export </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_export_schemas/ class=md-nav__link> <span class=md-ellipsis> Chainsaw export schemas </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_lint/ class=md-nav__link> <span class=md-ellipsis> Chainsaw lint </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_migrate/ class=md-nav__link> <span class=md-ellipsis> Chainsaw migrate </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_migrate_kuttl/ class=md-nav__link> <span class=md-ellipsis> Chainsaw migrate kuttl </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_migrate_kuttl_config/ class=md-nav__link> <span class=md-ellipsis> Chainsaw migrate kuttl config </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_migrate_kuttl_tests/ class=md-nav__link> <span class=md-ellipsis> Chainsaw migrate kuttl tests </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_migrate_tests/ class=md-nav__link> <span class=md-ellipsis> Chainsaw migrate tests </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_test/ class=md-nav__link> <span class=md-ellipsis> Chainsaw test </span> </a> </li> <li class=md-nav__item> <a href=../../commands/chainsaw_version/ class=md-nav__link> <span class=md-ellipsis> Chainsaw version </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8_2> <label class=md-nav__link for=__nav_3_8_2 id=__nav_3_8_2_label tabindex=0> <span class=md-ellipsis> JMESPath </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_8_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8_2> <span class="md-nav__icon md-icon"></span> JMESPath </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jp/functions/ class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8_3> <label class=md-nav__link for=__nav_3_8_3 id=__nav_3_8_3_label tabindex=0> <span class=md-ellipsis> APIs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_8_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8_3> <span class="md-nav__icon md-icon"></span> APIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../apis/chainsaw.v1alpha1/ class=md-nav__link> <span class=md-ellipsis> v1alpha1 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../json-schemas/ class=md-nav__link> <span class=md-ellipsis> JSON schemas </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/ class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/basic/ class=md-nav__link> <span class=md-ellipsis> Basic </span> </a> </li> <li class=md-nav__item> <a href=../../examples/inline/ class=md-nav__link> <span class=md-ellipsis> Inline resources </span> </a> </li> <li class=md-nav__item> <a href=../../examples/assertion-tree/ class=md-nav__link> <span class=md-ellipsis> Assertion trees </span> </a> </li> <li class=md-nav__item> <a href=../../examples/array-assertions/ class=md-nav__link> <span class=md-ellipsis> Array assertions </span> </a> </li> <li class=md-nav__item> <a href=../../examples/non-resource-assertion/ class=md-nav__link> <span class=md-ellipsis> Non resource assertion </span> </a> </li> <li class=md-nav__item> <a href=../../examples/labels-selector/ class=md-nav__link> <span class=md-ellipsis> Labels selector </span> </a> </li> <li class=md-nav__item> <a href=../../examples/test-output/ class=md-nav__link> <span class=md-ellipsis> Testing command output </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <a href=../ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../category/writing-tests/ class=md-nav__link> <span class=md-ellipsis> Writing Tests </span> </a> </li> <li class=md-nav__item> <a href=../category/announcements/ class=md-nav__link> <span class=md-ellipsis> announcements </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#table-of-contents class=md-nav__link> <span class=md-ellipsis> Table of Contents </span> </a> <nav class=md-nav aria-label="Table of Contents"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#section-1-installing-chainsaw class=md-nav__link> <span class=md-ellipsis> Section 1: Installing Chainsaw </span> </a> <nav class=md-nav aria-label="Section 1: Installing Chainsaw"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#11-downloading-chainsaw class=md-nav__link> <span class=md-ellipsis> 1.1 Downloading Chainsaw </span> </a> </li> <li class=md-nav__item> <a href=#12-installing-chainsaw class=md-nav__link> <span class=md-ellipsis> 1.2 Installing Chainsaw </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#section-2-writing-configurations class=md-nav__link> <span class=md-ellipsis> Section 2: Writing Configurations </span> </a> <nav class=md-nav aria-label="Section 2: Writing Configurations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-understanding-chainsaw-configurations class=md-nav__link> <span class=md-ellipsis> 2.1 Understanding Chainsaw Configurations </span> </a> </li> <li class=md-nav__item> <a href=#22-writing-chainsaw-configurations class=md-nav__link> <span class=md-ellipsis> 2.2 Writing Chainsaw Configurations </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#section-3-creating-tests class=md-nav__link> <span class=md-ellipsis> Section 3: Creating Tests </span> </a> <nav class=md-nav aria-label="Section 3: Creating Tests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31-understanding-chainsaw-tests class=md-nav__link> <span class=md-ellipsis> 3.1 Understanding Chainsaw Tests </span> </a> </li> <li class=md-nav__item> <a href=#32-creating-chainsaw-tests class=md-nav__link> <span class=md-ellipsis> 3.2 Creating Chainsaw Tests </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#section-4-running-tests class=md-nav__link> <span class=md-ellipsis> Section 4: Running Tests </span> </a> <nav class=md-nav aria-label="Section 4: Running Tests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#41-preparing-for-test-execution class=md-nav__link> <span class=md-ellipsis> 4.1 Preparing for Test Execution </span> </a> </li> <li class=md-nav__item> <a href=#42-executing-tests-in-chainsaw class=md-nav__link> <span class=md-ellipsis> 4.2 Executing Tests in Chainsaw </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://avatars.githubusercontent.com/u/69793468 alt="Shubham Gupta"> </span> <span class=md-profile__description> <strong> Shubham Gupta </strong> <br> Contributor </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> Metadata </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <time datetime="2023-10-16 00:00:00" class=md-ellipsis>October 16, 2023</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg> <span class=md-ellipsis> in <a href=../category/writing-tests/ >Writing Tests</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg> <span class=md-ellipsis> 6 min read </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <a href=https://github.com/kyverno/chainsaw/edit/main/website/docs/blog/posts/chainsaw.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <h1 id=how-to-perform-efficient-e2e-testing-with-chainsaw>How to Perform Efficient E2E Testing with Chainsaw<a class=headerlink href=#how-to-perform-efficient-e2e-testing-with-chainsaw title="Permanent link">&para;</a></h1> <p><img alt=chainsaw src=../img/chainsaw.png></p> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>Chainsaw is a powerful tool that enables efficient end-to-end (E2E) testing, making it an essential asset for software developers. Built to be stronger and more cohesive than KUTTL, Chainsaw offers a superior suite of features for Kubernetes (k8s) operators and objects. In this blog post, we will explore how to leverage Chainsaw for efficient E2E testing and enhance your overall testing workflow. Let's dive in!</p> <h2 id=table-of-contents>Table of Contents<a class=headerlink href=#table-of-contents title="Permanent link">&para;</a></h2> <ul> <li><a href=#how-to-perform-efficient-e2e-testing-with-chainsaw>How to Perform Efficient E2E Testing with Chainsaw</a></li> <li><a href=#introduction>Introduction</a></li> <li><a href=#table-of-contents>Table of Contents</a><ul> <li><a href=#section-1-installing-chainsaw>Section 1: Installing Chainsaw</a></li> <li><a href=#11-downloading-chainsaw>1.1 Downloading Chainsaw</a></li> <li><a href=#12-installing-chainsaw>1.2 Installing Chainsaw</a></li> <li><a href=#section-2-writing-configurations>Section 2: Writing Configurations</a></li> <li><a href=#21-understanding-chainsaw-configurations>2.1 Understanding Chainsaw Configurations</a></li> <li><a href=#22-writing-chainsaw-configurations>2.2 Writing Chainsaw Configurations</a></li> <li><a href=#section-3-creating-tests>Section 3: Creating Tests</a></li> <li><a href=#31-understanding-chainsaw-tests>3.1 Understanding Chainsaw Tests</a></li> <li><a href=#32-creating-chainsaw-tests>3.2 Creating Chainsaw Tests</a></li> <li><a href=#section-4-running-tests>Section 4: Running Tests</a></li> <li><a href=#41-preparing-for-test-execution>4.1 Preparing for Test Execution</a></li> <li><a href=#42-executing-tests-in-chainsaw>4.2 Executing Tests in Chainsaw</a></li> <li><a href=#conclusion>Conclusion</a></li> </ul> </li> </ul> <h3 id=section-1-installing-chainsaw>Section 1: Installing Chainsaw<a class=headerlink href=#section-1-installing-chainsaw title="Permanent link">&para;</a></h3> <h4 id=11-downloading-chainsaw>1.1 Downloading Chainsaw<a class=headerlink href=#11-downloading-chainsaw title="Permanent link">&para;</a></h4> <p>To get started with Chainsaw, you'll first need to download the appropriate release for your operating system and architecture. The releases are available on the official GitHub page at the following link: <a href=https://github.com/kyverno/chainsaw/releases>Release</a></p> <p>Here's a breakdown of the available releases:</p> <ul> <li><strong>For macOS (Darwin) Users</strong>:</li> <li>Intel-based Macs: <code>chainsaw_darwin_amd64.tar.gz</code></li> <li> <p>Apple Silicon Macs: <code>chainsaw_darwin_arm64.tar.gz</code></p> </li> <li> <p><strong>For Linux Users</strong>:</p> </li> <li>32-bit: <code>chainsaw_linux_386.tar.gz</code></li> <li>64-bit (AMD): <code>chainsaw_linux_amd64.tar.gz</code></li> <li>64-bit (ARM): <code>chainsaw_linux_arm64.tar.gz</code></li> </ul> <blockquote> <p><em>Each release also comes with associated .pem, .sbom, .sbom.pem, and .sig files. These are used for verification and security purposes. If you're interested in verifying the integrity of your download, you can use these files. However, for the purpose of this guide, we'll focus on the main .tar.gz files.</em></p> </blockquote> <h4 id=12-installing-chainsaw>1.2 Installing Chainsaw<a class=headerlink href=#12-installing-chainsaw title="Permanent link">&para;</a></h4> <p>Once you've downloaded the appropriate .tar.gz file for your system, you can proceed with the installation. Here's a step-by-step guide:</p> <ul> <li><strong>Extract the Tarball</strong>:</li> </ul> <div class=highlight><pre><span></span><code>tar<span class=w> </span>-xzf<span class=w> </span>chainsaw_&lt;your_version_and_architecture&gt;.tar.gz
</code></pre></div> <ul> <li><strong>Move the Extracted Binary</strong>:</li> </ul> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>mv<span class=w> </span>chainsaw<span class=w> </span>/usr/local/bin/
</code></pre></div> <ul> <li><strong>Verify the Installation</strong>:</li> </ul> <div class=highlight><pre><span></span><code>chainsaw<span class=w> </span>--version
</code></pre></div> <h3 id=section-2-writing-configurations>Section 2: Writing Configurations<a class=headerlink href=#section-2-writing-configurations title="Permanent link">&para;</a></h3> <h4 id=21-understanding-chainsaw-configurations>2.1 Understanding Chainsaw Configurations<a class=headerlink href=#21-understanding-chainsaw-configurations title="Permanent link">&para;</a></h4> <p>Chainsaw is a robust tool for end-to-end (e2e) testing in Kubernetes environments. It offers a flexible configuration system that allows users to define their testing parameters and conditions. The configuration can be set up in two primary ways:</p> <ul> <li><strong>Configuration File</strong>: This is a structured file where you can define all your testing parameters.</li> <li><strong>Command-line Flags</strong>: These are options you can pass directly when running Chainsaw commands. If both a configuration file and command-line flags are provided, the flags will override the settings in the configuration file.</li> </ul> <p>Chainsaw follows a hierarchy in loading its configurations:</p> <ol> <li><strong>User-specified Configuration</strong>: If you provide a configuration file explicitly using a command-line flag.</li> <li><strong>Default Configuration File</strong>: If no configuration is specified, Chainsaw will search for a default file named .chainsaw.yaml in the current directory.</li> <li><strong>Internal Default Configuration</strong>: If neither of the above is available, Chainsaw will resort to a default configuration embedded within its binary.</li> </ol> <p>To specify a custom configuration, use the following command:</p> <div class=highlight><pre><span></span><code>chainsaw<span class=w> </span><span class=nb>test</span><span class=w> </span>--config<span class=w> </span>path/to/your/config.yaml
</code></pre></div> <h4 id=22-writing-chainsaw-configurations>2.2 Writing Chainsaw Configurations<a class=headerlink href=#22-writing-chainsaw-configurations title="Permanent link">&para;</a></h4> <p>When writing a configuration for Chainsaw, you'll be working with a YAML file. Here's a basic example of what this might look like:</p> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chainsaw.kyverno.io/v1alpha1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Configuration</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">custom-config</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">45s</span>
<span class=w>  </span><span class=nt>skipDelete</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>  </span><span class=nt>failFast</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>  </span><span class=nt>parallel</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class=w>  </span><span class=c1># ... other configurations</span>
</code></pre></div> <p>The full structure of the configuration file, including all possible fields and their descriptions, can be found in the <a href=https://kyverno.github.io/chainsaw/apis/chainsaw.v1alpha1/#chainsaw-kyverno-io-v1alpha1-Configuration>Configuration API reference</a>.</p> <p>If you don't provide a custom configuration, Chainsaw will use its default:</p> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chainsaw.kyverno.io/v1alpha1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Configuration</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class=nt>spec</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{}</span>
</code></pre></div> <p>You can also override specific configurations using command-line flags, even after loading a configuration file. For instance:</p> <div class=highlight><pre><span></span><code>chainsaw<span class=w> </span><span class=nb>test</span><span class=w> </span>--config<span class=w> </span>path/to/your/config.yaml<span class=w> </span>--timeout<span class=w> </span>45s<span class=w> </span>--parallel<span class=w> </span><span class=m>4</span>
</code></pre></div> <p>In this example, even if the configuration file specifies different values for <code>timeout</code> and <code>parallel</code>, the command-line flags will take precedence.</p> <p>For a comprehensive list of all supported flags and their descriptions, refer to the <a href=https://kyverno.github.io/chainsaw/commands/chainsaw_test/#options>Chainsaw test command reference</a>.</p> <h3 id=section-3-creating-tests>Section 3: Creating Tests<a class=headerlink href=#section-3-creating-tests title="Permanent link">&para;</a></h3> <h4 id=31-understanding-chainsaw-tests>3.1 Understanding Chainsaw Tests<a class=headerlink href=#31-understanding-chainsaw-tests title="Permanent link">&para;</a></h4> <p>In Chainsaw, a test is essentially an ordered sequence of test steps. These steps are executed sequentially, and if any step fails, the entire test is considered failed. Each test step can consist of multiple operations, such as creating, updating, or deleting resources in a Kubernetes cluster, or asserting that certain conditions are met.</p> <p>Chainsaw supports three primary test definition mechanisms:</p> <ul> <li><strong>Manifests based syntax</strong>: This is a straightforward method where you provide Kubernetes resource manifests. Chainsaw uses these manifests to create, update, or assert expectations against a cluster.</li> <li><strong>TestSteps based syntax</strong>: A more verbose method that offers flexibility in defining each test step. It allows for additional configurations and can be combined with the Manifests based syntax.</li> <li><strong>Test based syntax</strong>: The most explicit method that provides a comprehensive overview of the test. It doesn't rely on file naming conventions and offers flexibility at both the test and test step levels.</li> </ul> <h4 id=32-creating-chainsaw-tests>3.2 Creating Chainsaw Tests<a class=headerlink href=#32-creating-chainsaw-tests title="Permanent link">&para;</a></h4> <p>Creating tests in Chainsaw requires a clear understanding of the test definition mechanisms. Here's a detailed guide for each syntax:</p> <ol> <li><strong>Using Manifests based syntax</strong></li> </ol> <p><strong>File Naming</strong>: Files should follow the convention <code>&lt;step index&gt;-&lt;name|assert|error&gt;.yaml</code>. For instance, <code>00-configmap.yaml</code> for resource creation, <code>01-assert.yaml</code> for assertions, and <code>02-error.yaml</code> for expected errors.</p> <p><strong>Example</strong>:</p> <div class=highlight><pre><span></span><code><span class=c1># 00-configmap.yaml</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chainsaw-example</span>
<span class=nt>data</span><span class=p>:</span>
<span class=w>  </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">value</span>
</code></pre></div> <ol> <li> <p><strong>Using TestSteps based syntax</strong></p> <p><strong>Define a TestStep</strong>: Create a YAML file that defines a <code>TestStep</code> resource. This resource should specify operations like <code>Apply</code>, <code>Assert</code>, <code>Delete</code>, and <code>Error</code>.</p> </li> </ol> <p><strong>Example</strong>:</p> <div class=highlight><pre><span></span><code><span class=c1># 01-test-step.yaml</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chainsaw.kyverno.io/v1alpha1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">TestStep</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">apply-configmap-step</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>apply</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/resources/configmap.yaml</span>
</code></pre></div> <blockquote> <p><em>You can combine TestStep resources with raw Kubernetes manifests. For instance, a TestStep might apply a resource, while a separate manifest file makes assertions about that resource.</em></p> </blockquote> <p><strong>Example</strong>:</p> <div class=highlight><pre><span></span><code><span class=c1># 02-assert.yaml</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chainsaw-example</span>
<span class=nt>data</span><span class=p>:</span>
<span class=w>  </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">value</span>
</code></pre></div> <ol> <li><strong>Using Test based syntax</strong></li> </ol> <p><strong>Define a Test</strong>: Start by creating a YAML file that defines a Test resource. This resource will have a spec section that outlines the entire test.</p> <p><strong>Example</strong>:</p> <div class=highlight><pre><span></span><code><span class=c1># chainsaw-test.yaml</span>
<span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chainsaw.kyverno.io/v1alpha1</span>
<span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Test</span>
<span class=nt>metadata</span><span class=p>:</span>
<span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">full-test-example</span>
<span class=nt>spec</span><span class=p>:</span>
<span class=w>  </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10s</span>
<span class=w>  </span><span class=nt>steps</span><span class=p>:</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>spec</span><span class=p>:</span>
<span class=w>      </span><span class=nt>apply</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/resources/configmap.yaml</span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>spec</span><span class=p>:</span>
<span class=w>      </span><span class=nt>assert</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/resources/configmap-assert.yaml</span>
</code></pre></div> <blockquote> <p><em>Chainsaw processes the test by executing each step in sequence, ensuring that your Kubernetes environment meets the defined conditions.</em></p> </blockquote> <h3 id=section-4-running-tests>Section 4: Running Tests<a class=headerlink href=#section-4-running-tests title="Permanent link">&para;</a></h3> <h4 id=41-preparing-for-test-execution>4.1 Preparing for Test Execution<a class=headerlink href=#41-preparing-for-test-execution title="Permanent link">&para;</a></h4> <p>Before executing your tests, ensure that:</p> <ol> <li><strong>Kubernetes Cluster</strong>: You have access to a Kubernetes cluster where the tests will run. This could be a local cluster (like Minikube or kind) or a remote one.</li> <li><strong>Kubeconfig</strong>: Your <code>kubeconfig</code> is correctly set up to point to the desired cluster. Chainsaw will use the current context from your <code>kubeconfig</code> to interact with the cluster.</li> <li><strong>Test Files</strong>: All your test files, whether they are written using Manifests based, <code>TestSteps</code> based, or <code>Test</code> based syntax, are organized and accessible.</li> </ol> <h4 id=42-executing-tests-in-chainsaw>4.2 Executing Tests in Chainsaw<a class=headerlink href=#42-executing-tests-in-chainsaw title="Permanent link">&para;</a></h4> <p>Once you're set up, running tests in Chainsaw is straightforward:</p> <ol> <li><strong>Navigate to the Test Directory</strong>:</li> </ol> <div class=highlight><pre><span></span><code><span class=nb>cd</span><span class=w> </span>path/to/your/test/directory
</code></pre></div> <ol> <li><strong>Run the Tests</strong>:</li> </ol> <div class=highlight><pre><span></span><code>chainsaw<span class=w> </span><span class=nb>test</span>
</code></pre></div> <blockquote> <p><em>This command will execute all tests in the current directory.</em></p> </blockquote> <ol> <li><strong>View the Results</strong>: Chainsaw will display the results in the terminal. It provides a summary of passed, failed, and skipped tests. For any failed tests, Chainsaw will display detailed error messages to help diagnose the issue.</li> </ol> <p>The output will resemble:</p> <div class=highlight><pre><span></span><code>Loading<span class=w> </span>default<span class=w> </span>configuration...
...
Running<span class=w> </span>tests...
<span class=o>===</span><span class=w> </span>RUN<span class=w>   </span>quick-start
...
---<span class=w> </span>PASS:<span class=w> </span>quick-start<span class=w> </span><span class=o>(</span><span class=m>5</span>.22s<span class=o>)</span>
PASS
Tests<span class=w> </span>Summary...
-<span class=w> </span>Passed<span class=w>  </span>tests:<span class=w> </span><span class=m>3</span>
-<span class=w> </span>Failed<span class=w>  </span>tests:<span class=w> </span><span class=m>1</span>
-<span class=w> </span>Skipped<span class=w> </span>tests:<span class=w> </span><span class=m>2</span>
Done.
</code></pre></div> <h3 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h3> <p>Chainsaw provides a robust and flexible framework for end-to-end testing in Kubernetes environments. By understanding its configuration and test definition mechanisms, developers can create comprehensive test suites that ensure their Kubernetes applications and configurations are functioning as expected.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../first-test/ class="md-footer__link md-footer__link--prev" aria-label="Previous: First working test !"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> First working test ! </div> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Made with ❤️ by Kyverno contributors. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.action.edit", "navigation.footer", "navigation.instant", "navigation.tracking", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.caa56a14.min.js></script> </body> </html>